<div align="center">

# ğŸ“ Smart Learn - æ™ºæ…§æ•™è‚² AI å¹³å°

*åŸºäº React å’Œ AI çš„æ™ºèƒ½æ•™å­¦å¹³å° | AI-Powered Intelligent Teaching Platform*

[![License](https://img.shields.io/badge/license-Apache%202.0-blue.svg)](LICENSE)
[![React](https://img.shields.io/badge/React-19.2-61dafb?logo=react)](https://reactjs.org/)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.9-3178c6?logo=typescript)](https://www.typescriptlang.org/)
[![Vite](https://img.shields.io/badge/Vite-7.x-646cff?logo=vite)](https://vitejs.dev/)
[![Playwright](https://img.shields.io/badge/Playwright-E2E-2EAD33?logo=playwright)](https://playwright.dev/)
[![Node.js](https://img.shields.io/badge/Node.js-20.x-339933?logo=node.js)](https://nodejs.org/)
[![PostgreSQL](https://img.shields.io/badge/PostgreSQL-15-336791?logo=postgresql)](https://www.postgresql.org/)

</div>

---

## ğŸ“– é¡¹ç›®å…¨æ™¯

**Smart Learn** æ˜¯ä¸€ä¸ªå…¨æ ˆ AI æ™ºèƒ½æ•™å­¦å¹³å°ï¼Œé¢å‘å­¦ç”Ÿå’Œæ•™å¸ˆåŒç«¯ï¼Œæä¾›ä¸ªæ€§åŒ–å­¦ä¹ è¾…åŠ©ä¸ç²¾å‡†æ•™å­¦ç®¡ç†ã€‚å¹³å°æ·±åº¦é›†æˆ AI èƒ½åŠ›ï¼Œæ¶µç›–ç­çº§ç®¡ç†ã€åˆ†å±‚ä½œä¸šå‘å¸ƒã€AI å­¦ä¹ åŠ©æ‰‹ã€å­¦æƒ…åˆ†æä¸ç²¾å‡†å¹²é¢„ç­‰æ ¸å¿ƒåŠŸèƒ½ã€‚

å‰ç«¯é‡‡ç”¨ React 19 + TypeScript + Vite æ„å»ºï¼Œåç«¯åŸºäº Node.js + Express + PostgreSQL (Prisma ORM)ï¼Œé€šè¿‡ Playwright è¿›è¡Œ E2E è‡ªåŠ¨åŒ–æµ‹è¯•ï¼Œç¡®ä¿äº§å“è´¨é‡ã€‚

## âœ¨ æ ¸å¿ƒåŠŸèƒ½æ¸…å•

### ğŸ’ å­¦ç”Ÿç«¯

| åŠŸèƒ½ | è¯´æ˜ |
|------|------|
| **ä»ªè¡¨ç›˜** | æ€»ç§¯åˆ†/æ’å/è¯¾ç¨‹è¿›åº¦/AIäº’åŠ¨æŒ‡æ•°ã€è¿‘7å¤©å­¦ä¹ è¶‹åŠ¿ã€äº”ç»´èƒ½åŠ›é›·è¾¾ã€æœ€è¿‘æ´»åŠ¨ï¼›æ”¯æŒå¯¼å‡ºå­¦ä¹ æŠ¥å‘Šã€AI è¯Šæ–­è·³è½¬ |
| **AI æ™ºèƒ½åŠ©æ‰‹** | åŸºäº OpenAI å…¼å®¹ API çš„ SSE æµå¼å¯¹è¯ã€å¤šæ¨¡å‹é€‰æ‹©ã€èŠå¤©å†å²æŒä¹…åŒ–ã€Socratic å¼•å¯¼å¼æ•™å­¦ |
| **èµ„æºåº“** | æŒ‰ç±»å‹/åˆ†ç±»/æ ‡ç­¾æœç´¢è¿‡æ»¤æ•™å­¦èµ„æºï¼Œæ”¯æŒæ”¶è—ã€æµè§ˆé‡ç»Ÿè®¡ |
| **ä½œä¸šæäº¤** | æŸ¥çœ‹/æäº¤ä½œä¸šï¼ˆPDF/Notebookï¼‰ï¼Œæ–‡ä»¶é¢„è§ˆï¼ˆPDF å†…è”ã€IPYNB JSONï¼‰ï¼Œæˆªæ­¢æ—¶é—´æé†’ |
| **å­¦æƒ…åˆ†æ** | ä¸ªäººæˆç»©è¶‹åŠ¿ã€å¾—åˆ†èµ°åŠ¿ç»Ÿè®¡ |
| **ä¸ªäººè®¾ç½®** | èµ„æ–™ç¼–è¾‘ã€å¤´åƒä¸Šä¼ ã€å¯†ç ä¿®æ”¹ã€é€šçŸ¥åå¥½ã€éšç§æƒé™ |

### ğŸ« æ•™å¸ˆç«¯

| åŠŸèƒ½ | è¯´æ˜ |
|------|------|
| **ä»ªè¡¨ç›˜** | æˆè¯¾å­¦ç”Ÿæ•°/ç­çº§æ•°/æäº¤ç‡/å¾…å…³æ³¨å­¦ç”Ÿã€æœ€è¿‘åŠ¨æ€ã€å¾…åŠä»»åŠ¡ã€å¿«æ·å…¥å£ |
| **ç­çº§ç®¡ç†** | åˆ›å»ºç­çº§ï¼ˆè‡ªåŠ¨é‚€è¯·ç ï¼‰ã€æˆå‘˜ç®¡ç†ã€ç­çº§ç¼–è¾‘/åˆ é™¤ |
| **åˆ†å±‚ä½œä¸šå‘å¸ƒ** | å‘å¸ƒä½œä¸šï¼ˆæ ‡é¢˜/æè¿°/æˆªæ­¢æ—¶é—´/æ»¡åˆ†/è¿Ÿäº¤è®¾ç½®ï¼‰ã€AI è¾…åŠ©ç”Ÿæˆåˆ†å±‚ä½œä¸šï¼ˆåŸºç¡€å±‚/è¿›é˜¶å±‚/æŒ‘æˆ˜å±‚ï¼‰ |
| **å­¦ç”Ÿè¡Œä¸ºåˆ†æ** | å­¦ç”Ÿè¡Œä¸ºæ•°æ®åˆ†æã€å¯¼å‡ºæŠ¥è¡¨ã€ç”Ÿæˆå…³æ³¨æ¸…å• |
| **ç²¾å‡†å¹²é¢„æ§åˆ¶å°** | é¢„è­¦å­¦ç”Ÿç®¡ç†ã€è¡Œä¸ºè¯„åˆ†ç­›é€‰ï¼ˆå…¨éƒ¨/é¢„è­¦/é«˜åˆ†ï¼‰ã€AI æ¨èæ–¹æ¡ˆã€å¹²é¢„èµ„æºæ¨é€ |
| **æ•°æ®åˆ†æ** | ç­çº§ä½œä¸šåˆ†æï¼ˆæäº¤ç‡/åˆ†æ•°åˆ†å¸ƒï¼‰ã€æˆç»©è¶‹åŠ¿ã€ç­çº§æ€»è§ˆæ’å |

### ğŸ” é€šç”¨åŠŸèƒ½

- é‚®ç®±éªŒè¯ç æ³¨å†Œ/ç™»å½•/å¯†ç é‡ç½®
- JWT é‰´æƒ + è§’è‰²å®ˆå«ï¼ˆSTUDENT / TEACHERï¼‰
- å…¨å±€æœç´¢ã€é€šçŸ¥ç³»ç»Ÿ
- æ€æ”¿æ¡ˆä¾‹åº“ï¼ˆåˆ›å»º/æµè§ˆ/è¯„åˆ†/æ”¶è—ï¼‰

## ğŸ—ï¸ æŠ€æœ¯æ ˆè¯¦æƒ…

| å±‚ | æŠ€æœ¯ |
|----|------|
| **å‰ç«¯æ¡†æ¶** | React 19, TypeScript, Vite 7 |
| **UI ç»„ä»¶åº“** | Tailwind CSS, shadcn/ui (Radix UI), Lucide Icons |
| **çŠ¶æ€ç®¡ç†** | Zustand (with localStorage persist) |
| **è·¯ç”±** | React Router 7 |
| **æ•°æ®å¯è§†åŒ–** | Recharts |
| **HTTP å®¢æˆ·ç«¯** | Axios |
| **é€šçŸ¥** | Sonner (Toast) |
| **åç«¯** | Node.js, Express, TypeScript, Prisma ORM, Zod |
| **æ•°æ®åº“** | PostgreSQL 15+ |
| **è®¤è¯** | JWT (jsonwebtoken), bcryptjs |
| **æ–‡ä»¶ä¸Šä¼ ** | Multer (æœ¬åœ°ç£ç›˜ `uploads/`) |
| **é‚®ä»¶** | Nodemailer (SMTP) |
| **AI** | OpenAI å…¼å®¹ API (SSE æµå¼) |
| **å®šæ—¶ä»»åŠ¡** | node-cron |
| **E2E æµ‹è¯•** | Playwright |

## ğŸ“ ç›®å½•ç»“æ„

```
smart-learn/
â”œâ”€â”€ app/                            # å‰ç«¯ React åº”ç”¨
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ App.tsx                 # è·¯ç”±å®šä¹‰ + è§’è‰²å®ˆå«
â”‚   â”‚   â”œâ”€â”€ main.tsx                # å…¥å£
â”‚   â”‚   â”œâ”€â”€ components/             # UI ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ ui/                 # shadcn/ui åŸºç¡€ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ charts/             # å›¾è¡¨ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ chat/               # AI èŠå¤©ç»„ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ layout/             # å¸ƒå±€ (MainLayout, AuthLayout)
â”‚   â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â”‚   â”œâ”€â”€ auth/               # ç™»å½•ã€æ³¨å†Œã€æ‰¾å›å¯†ç 
â”‚   â”‚   â”‚   â”œâ”€â”€ student/            # å­¦ç”Ÿç«¯æ‰€æœ‰é¡µé¢
â”‚   â”‚   â”‚   â””â”€â”€ teacher/            # æ•™å¸ˆç«¯æ‰€æœ‰é¡µé¢
â”‚   â”‚   â”œâ”€â”€ stores/                 # Zustand çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ hooks/                  # è‡ªå®šä¹‰ Hooks
â”‚   â”‚   â”œâ”€â”€ lib/                    # API å®¢æˆ·ç«¯ (Axios)ã€å·¥å…·å‡½æ•°
â”‚   â”‚   â””â”€â”€ types/                  # TypeScript ç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ vite.config.ts
â”œâ”€â”€ backend/                        # åç«¯ Express åº”ç”¨
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ index.ts                # å…¥å£ + è·¯ç”±æ³¨å†Œ
â”‚   â”‚   â”œâ”€â”€ routes/                 # API è·¯ç”± (auth, class, homework, resource, case, ai, analytics, dashboard)
â”‚   â”‚   â”œâ”€â”€ middleware/             # JWT è®¤è¯ã€æ–‡ä»¶ä¸Šä¼ ã€é™æµ
â”‚   â”‚   â”œâ”€â”€ services/               # ä¸šåŠ¡æœåŠ¡ (ä½œä¸šæé†’ cron)
â”‚   â”‚   â””â”€â”€ utils/                  # å·¥å…· (JWT, é‚®ä»¶)
â”‚   â”œâ”€â”€ prisma/schema.prisma        # æ•°æ®åº“æ¨¡å‹å®šä¹‰
â”‚   â”œâ”€â”€ uploads/                    # ä¸Šä¼ æ–‡ä»¶ç›®å½•
â”‚   â””â”€â”€ .env.example                # ç¯å¢ƒå˜é‡ç¤ºä¾‹
â”œâ”€â”€ e2e/                            # E2E è‡ªåŠ¨åŒ–æµ‹è¯• (Playwright)
â”‚   â”œâ”€â”€ tests/
â”‚   â”‚   â”œâ”€â”€ auth.spec.ts            # è®¤è¯æ¨¡å—æµ‹è¯• (ç™»å½•/æ³¨å†Œ/æƒé™/ç™»å‡º)
â”‚   â”‚   â”œâ”€â”€ student.spec.ts         # å­¦ç”Ÿç«¯æµ‹è¯• (ä»ªè¡¨ç›˜/ä½œä¸š/èµ„æº/AI/è®¾ç½®)
â”‚   â”‚   â”œâ”€â”€ teacher.spec.ts         # æ•™å¸ˆç«¯æµ‹è¯• (ä»ªè¡¨ç›˜/ç­çº§/ä½œä¸š/åˆ†æ)
â”‚   â”‚   â”œâ”€â”€ teacher-intervention.spec.ts  # å¹²é¢„æ§åˆ¶å°æ·±åº¦äº¤äº’æµ‹è¯•
â”‚   â”‚   â”œâ”€â”€ student-homework.spec.ts      # å­¦ç”Ÿä½œä¸šæ·±åº¦äº¤äº’ + æ–‡ä»¶ä¸Šä¼ æµ‹è¯•
â”‚   â”‚   â”œâ”€â”€ routing.spec.ts         # è·¯ç”±ã€é‡å®šå‘ã€404 æµ‹è¯•
â”‚   â”‚   â”œâ”€â”€ mobile.spec.ts          # ç§»åŠ¨ç«¯é€‚é…æµ‹è¯•
â”‚   â”‚   â”œâ”€â”€ fixtures.spec.ts        # æµ‹è¯• Fixture éªŒè¯
â”‚   â”‚   â””â”€â”€ helpers/
â”‚   â”‚       â””â”€â”€ generate-fixtures.ts  # PDF/Notebook æµ‹è¯•æ–‡ä»¶ç”Ÿæˆ
â”‚   â”œâ”€â”€ fixtures/                   # ç”Ÿæˆçš„æµ‹è¯•æ–‡ä»¶
â”‚   â””â”€â”€ playwright.config.ts
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ start-dev.sh                # å¼€å‘ç¯å¢ƒä¸€é”®å¯åŠ¨
â”‚   â””â”€â”€ start-prod.sh               # ç”Ÿäº§ç¯å¢ƒå¯åŠ¨
â”œâ”€â”€ DEPLOY.md                       # éƒ¨ç½²æ–‡æ¡£
â”œâ”€â”€ LICENSE
â””â”€â”€ README.md
```

## ğŸš€ å¼€å‘æŒ‡å—

### ç¯å¢ƒè¦æ±‚

- **Node.js** 20.x+
- **PostgreSQL** 15+
- **npm**

### æ–¹å¼ä¸€ï¼šä¸€é”®å¯åŠ¨ï¼ˆæ¨èï¼‰

```bash
# å…‹éš†é¡¹ç›®åï¼Œä½¿ç”¨ä¸€é”®å¯åŠ¨è„šæœ¬
./scripts/start-dev.sh

# å¯é€‰å‚æ•°:
#   --keep-db    ä¿ç•™å¼€å‘æ•°æ®åº“
#   --reset-db   å¼ºåˆ¶é‡ç½®æ•°æ®åº“
```

è„šæœ¬ä¼šè‡ªåŠ¨å®‰è£…ä¾èµ–ã€ç”Ÿæˆ Prisma Clientã€åˆå§‹åŒ–æ•°æ®åº“å¹¶åŒæ—¶å¯åŠ¨å‰ç«¯å’Œåç«¯æœåŠ¡ã€‚

### æ–¹å¼äºŒï¼šæ‰‹åŠ¨å¯åŠ¨

**1. é…ç½®å¹¶å¯åŠ¨åç«¯**

```bash
cd backend
cp .env.example .env
# ç¼–è¾‘ .envï¼Œè‡³å°‘é…ç½® DATABASE_URL å’Œ JWT_SECRET
npm install
npx prisma generate
npx prisma db push
npm run dev
# åç«¯è¿è¡Œåœ¨ http://localhost:3001
```

**2. å¯åŠ¨å‰ç«¯ï¼ˆæ–°ç»ˆç«¯ï¼‰**

```bash
cd app
npm install
npm run dev
# å‰ç«¯è¿è¡Œåœ¨ http://localhost:5173
```

### è¿è¡Œ E2E æµ‹è¯•

E2E æµ‹è¯•åŸºäº Playwrightï¼Œåœ¨å‰ç«¯è¿è¡Œçš„æƒ…å†µä¸‹æ‰§è¡Œï¼š

```bash
cd e2e
npm install
npx playwright install chromium    # é¦–æ¬¡è¿è¡Œéœ€å®‰è£…æµè§ˆå™¨

# è¿è¡Œæ‰€æœ‰æµ‹è¯•
npm test

# å¸¦æµè§ˆå™¨ç•Œé¢è¿è¡Œï¼ˆæ–¹ä¾¿è°ƒè¯•ï¼‰
npm run test:headed

# æŸ¥çœ‹æµ‹è¯•æŠ¥å‘Š
npm run test:report
```

**æµ‹è¯•å¥—ä»¶æ¦‚è§ˆï¼š**

| æ–‡ä»¶ | è¦†ç›–èŒƒå›´ |
|------|----------|
| `auth.spec.ts` | ç™»å½•/æ³¨å†Œ/å¿˜è®°å¯†ç /æƒé™æ§åˆ¶/ç™»å‡º |
| `student.spec.ts` | å­¦ç”Ÿä»ªè¡¨ç›˜/ä½œä¸š/èµ„æº/AIåŠ©æ‰‹/è®¾ç½®/åˆ†æ |
| `teacher.spec.ts` | æ•™å¸ˆä»ªè¡¨ç›˜/ç­çº§/ä½œä¸š/åˆ†æ/è¡Œä¸ºåˆ†æ/èµ„æº |
| `teacher-intervention.spec.ts` | å¹²é¢„æ§åˆ¶å° Toggle å¼€å…³/ç­›é€‰å™¨/è¡¨å•æäº¤ |
| `student-homework.spec.ts` | å­¦ç”Ÿä½œä¸šäº¤äº’ + PDF/Notebook æ–‡ä»¶ä¸Šä¼  |
| `routing.spec.ts` | è·¯ç”±é‡å®šå‘/404/æƒé™å®ˆå« |
| `mobile.spec.ts` | ç§»åŠ¨ç«¯ viewport é€‚é…æµ‹è¯• |
| `fixtures.spec.ts` | æµ‹è¯•æ–‡ä»¶ç”ŸæˆéªŒè¯ |

### ç¯å¢ƒå˜é‡è¯´æ˜ (`.env`)

```env
# æ•°æ®åº“ (å¿…é¡»)
DATABASE_URL="postgresql://postgres:postgres@localhost:5432/smartlearn?schema=public"

# JWT (å¿…é¡»)
JWT_SECRET="your-super-secret-jwt-key-change-in-production"
JWT_EXPIRES_IN="7d"

# SMTP é‚®ä»¶ (å¯é€‰)
SMTP_HOST="smtp.ethereal.email"
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=""
SMTP_PASS=""

# æœåŠ¡å™¨
PORT=3001
NODE_ENV="development"
FRONTEND_URL="http://localhost:5173"

# AI (å¯é€‰ï¼Œä¸é…ç½®åˆ™ AI åŠ©æ‰‹ä¸å¯ç”¨)
AI_BASE_URL="https://api.openai.com"
AI_API_KEY=""
```

## ğŸ”— API ç«¯ç‚¹æ€»è§ˆ

| å‰ç¼€ | è¯´æ˜ | é‰´æƒ |
|------|------|------|
| `/api/auth` | è®¤è¯ï¼ˆæ³¨å†Œ/ç™»å½•/å¯†ç é‡ç½®/ä¸ªäººèµ„æ–™/åå¥½/å¤´åƒ/æ³¨é”€ï¼‰ | éƒ¨åˆ†éœ€è¦ |
| `/api/classes` | ç­çº§ç®¡ç† | éœ€è¦ |
| `/api/homeworks` | ä½œä¸šç®¡ç† | éœ€è¦ |
| `/api/resources` | èµ„æºä¸­å¿ƒ | åˆ—è¡¨å…¬å¼€ï¼ŒCRUD éœ€æ•™å¸ˆ |
| `/api/cases` | æ¡ˆä¾‹åº“ | åˆ—è¡¨å…¬å¼€ï¼ŒCRUD éœ€æ•™å¸ˆ |
| `/api/ai` | AI åŠ©æ‰‹ï¼ˆèŠå¤©/å†å²/åˆ é™¤ï¼‰ | éœ€è¦ |
| `/api/analytics` | æ•°æ®åˆ†æ | éœ€è¦ |
| `/api/dashboard` | ä»ªè¡¨ç›˜èšåˆ | éœ€è¦ |
| `/api/behavior` | å­¦ç”Ÿè¡Œä¸ºæ•°æ® | éœ€è¦ |
| `/api/courses` | è¯¾ç¨‹ä¿¡æ¯ | éœ€è¦ |
| `/api/health` | å¥åº·æ£€æŸ¥ | æ—  |

## âš ï¸ å·²çŸ¥é™åˆ¶

- æ–‡ä»¶ä¸Šä¼ ä»…æ”¯æŒ PDF å’Œ IPYNB æ ¼å¼ï¼Œå­˜å‚¨åœ¨æœ¬åœ° `uploads/` ç›®å½•ï¼Œæ— å¯¹è±¡å­˜å‚¨é›†æˆ
- AI åŠ©æ‰‹éœ€é…ç½®å¤–éƒ¨ OpenAI å…¼å®¹ APIï¼ˆæ”¯æŒè‡ªå®šä¹‰ `AI_BASE_URL`ï¼‰
- é‚®ä»¶æé†’éœ€é…ç½® SMTP æœåŠ¡

## ğŸ“¦ éƒ¨ç½²

è¯¦ç»†éƒ¨ç½²æ–‡æ¡£è¯·å‚é˜… [DEPLOY.md](./DEPLOY.md)

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [Apache License 2.0](./LICENSE) è®¸å¯è¯ã€‚
